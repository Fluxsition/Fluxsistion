<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flux — Loading</title>
  <style>
    :root{
      --bg-0:#050505;
      --bg-1:#0b0b0f;
      --fg:#e8e8e8;
      --muted:#b8c3cf;
      --accent:#36d1ff;
      --glow:#36d1ff40;
      --border:#111318;
      --panel-top:#0b0b0f;
      --panel-bot:#090909;
      --soft:#1a1f27;
      --soft-2:#0a0d12;
      --ok:#4ad295;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1200px 800px at 50% 20%, var(--bg-1), var(--bg-0));
      color:var(--fg);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial;
      overflow:hidden;
    }

    /* Canvas с упрощёнными микросхемами */
    #chips{
      position:fixed; inset:0; z-index:0; display:block;
      filter: drop-shadow(0 6px 12px #000a);
    }

    .vignette{position:fixed; inset:-10%; z-index:1; pointer-events:none;
      background: radial-gradient(1200px 800px at 50% 30%, transparent 0%, transparent 60%, #0007 100%);
    }

    /* Экран загрузки */
    .center{
      position:fixed; inset:0; z-index:2; display:grid; place-items:center;
      padding:2rem;
      transition: opacity .7s ease, visibility .7s ease;
    }
    .hidden{opacity:0; visibility:hidden; pointer-events:none}

    .card{
      position:relative;
      background: linear-gradient(180deg, var(--panel-top), var(--panel-bot));
      border:1px solid var(--border);
      box-shadow:
        0 10px 30px #0008,
        inset 0 1px 0 var(--soft),
        inset 0 -1px 0 #070809;
      border-radius:24px;
      padding:48px 56px;
      min-width: min(92vw, 680px);
      display:flex; flex-direction:column; align-items:center; gap:28px;
      backdrop-filter: blur(6px) saturate(120%);
    }
    .title{
      font-size: clamp(20px, 3.2vw, 28px);
      letter-spacing: .08em; text-transform: uppercase;
      color:#cfd6df;
      text-shadow: 0 0 18px var(--glow);
      opacity:.9;
    }

    .loader{
      width: 160px; height: 160px; position: relative;
      filter: drop-shadow(0 0 24px var(--glow));
    }
    .loader::before, .loader::after{
      content:""; position:absolute; inset:0; border-radius:50%;
      border: 8px solid transparent; 
    }
    .loader::before{
      border-top-color: var(--accent);
      border-left-color: #ffffff33;
      animation: spin 1.15s linear infinite;
    }
    .loader::after{
      inset:18px;
      border: 8px solid transparent;
      border-right-color: #9be7ff55;
      border-bottom-color: #ffffff20;
      animation: spin 1.8s linear infinite reverse;
      filter: blur(0.3px);
    }
    .dots{display:flex; gap:10px; align-items:center; font-weight:500; color:#c9d7e3}
    .dot{width:8px; height:8px; border-radius:50%; background:#a9cfe0; opacity:.3; animation: blink 1.8s infinite}
    .dot:nth-child(2){animation-delay:.2s}
    .dot:nth-child(3){animation-delay:.4s}
    .hint{opacity:.65; font-size:14px; letter-spacing:.04em; color:#a7b4c2}

    @keyframes spin{to{transform:rotate(1turn)}}
    @keyframes blink{50%{opacity:1}}

    /* Маленькая подпись снизу слева */
    .badge{
      position:fixed; left:16px; bottom:14px; z-index:4;
      font-size:12px; letter-spacing:.04em; opacity:.55
    }

    /* ---------- Главная ---------- */
    .app{
      position:fixed; inset:0; z-index:3; display:flex; flex-direction:column;
      opacity:0; visibility:hidden; pointer-events:none;
      transition: opacity .7s ease .05s, visibility .7s ease .05s;
    }
    .app.show{opacity:1; visibility:visible; pointer-events:auto}

    /* Верхняя панель */
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 18px;
      background: linear-gradient(180deg, #0c0e13cc, #090a0dcc);
      border-bottom:1px solid var(--border);
      backdrop-filter: blur(8px) saturate(120%);
    }
    .brand{
      display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.06em
    }
    .brand .dot{width:8px;height:8px;border-radius:50%;background:var(--ok); box-shadow:0 0 14px #4ad29580}

    .lang{
      display:flex; gap:8px; align-items:center;
    }
    .lang select{
      appearance:none;
      background:#0f1218; color:var(--fg);
      border:1px solid #151a22; border-radius:12px;
      padding:10px 14px; font-weight:600; letter-spacing:.04em;
      outline:none;
      box-shadow: inset 0 0 0 1px #0a0e14, 0 6px 16px #0007;
    }

    /* Контент: «таблица»-сетка */
    .wrap{
      flex:1; overflow:auto; padding:28px; display:grid;
      grid-template-columns: repeat(12, 1fr);
      grid-auto-rows: minmax(140px, auto);
      gap:18px;
      background:
        radial-gradient(1200px 800px at 50% 20%, #0b0b0f88, #050505 80%),
        repeating-linear-gradient(0deg, #0b1016 0 1px, transparent 1px 80px),
        repeating-linear-gradient(90deg, #0b1016 0 1px, transparent 1px 80px);
      background-blend-mode: soft-light;
    }
    .cell{
      grid-column: span 6;
      background: linear-gradient(180deg, var(--panel-top), var(--panel-bot));
      border:1px solid var(--border);
      border-radius:20px;
      padding:22px;
      box-shadow: 0 10px 28px #0008, inset 0 1px 0 var(--soft-2);
      display:flex; flex-direction:column; gap:12px;
    }
    .cell.header{
      grid-column: span 12;
      display:flex; align-items:center; justify-content:space-between;
      padding:26px 26px;
    }
    .cell.download{align-items:flex-start; justify-content:center; gap:18px}
    .cell.cta{
      grid-column: span 12; align-items:center; text-align:center; gap:16px; padding:30px;
    }
    .cell.small{grid-column: span 4}
    .h1{
      font-size: clamp(22px, 4vw, 34px); font-weight:800; letter-spacing:.02em;
      text-shadow: 0 0 18px var(--glow);
    }
    .p{color:var(--muted); line-height:1.6}

    .arrow{
      display:inline-flex; align-items:center; gap:10px;
      white-space:nowrap; user-select:none; cursor:default;
    }
    .arrow i{
      width:26px; height:2px; background:var(--accent); position:relative;
      transform-origin:left center; transform:scaleX(0); opacity:.0;
      transition: transform .6s ease, opacity .6s ease;
    }
    .arrow i::after{
      content:""; position:absolute; right:-1px; top:50%; width:8px; height:8px;
      border-right:2px solid var(--accent); border-top:2px solid var(--accent);
      transform: translateY(-50%) rotate(45deg);
    }
    .cell:hover .arrow i{transform:scaleX(1); opacity:1}

    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:14px 18px; border-radius:14px; text-decoration:none; color:#001019;
      font-weight:800; letter-spacing:.06em; text-transform:uppercase;
      background: linear-gradient(180deg, #6ee1ff, #36d1ff);
      box-shadow: 0 10px 26px #1cbaff40, inset 0 1px 0 #9ff0ff;
      border:0;
      transition: transform .12s ease, box-shadow .2s ease, filter .2s ease;
    }
    .btn:hover{transform: translateY(-1px); filter:brightness(1.05)}
    .btn:active{transform: translateY(0)}

    .muted{opacity:.7}

    @media (max-width:980px){
      .cell{grid-column: span 12}
      .cell.small{grid-column: span 6}
    }
    @media (max-width:560px){
      .wrap{padding:18px}
      .cell.small{grid-column: span 12}
    }
  </style>
</head>
<body>
  <!-- Фон -->
  <canvas id="chips" aria-hidden="true"></canvas>
  <div class="vignette" aria-hidden="true"></div>

  <!-- Экран загрузки -->
  <main class="center" id="loader" role="status" aria-live="polite">
    <section class="card">
      <div class="loader" aria-label="Loading"></div>
      <div class="title" data-i18n="loadingTitle">Loading</div>
      <div class="dots" aria-hidden="true">
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
      </div>
      <div class="hint" data-i18n="loadingHint">Please wait… preparing interface</div>
    </section>
  </main>

  <!-- Главная -->
  <div class="app" id="app" aria-hidden="true">
    <header class="topbar">
      <div class="brand">
        <span class="dot" aria-hidden="true"></span>
        <span>FluxScan</span>
      </div>

      <div class="lang" aria-label="Language switcher">
        <label for="lang" class="muted" data-i18n="langLabel" style="margin-right:6px;">Language</label>
        <select id="lang" aria-describedby="langHelp">
          <option value="en">English</option>
          <option value="ru">Русский</option>
          <option value="uk">Українська</option>
        </select>
      </div>
    </header>

    <div class="wrap">
      <!-- Заголовок -->
      <section class="cell header">
        <div class="h1" data-i18n="hero">FluxScan — Your productivity helper</div>
        <div class="arrow muted">
          <span data-i18n="whyUsShort">Why us?</span>
          <i aria-hidden="true"></i>
        </div>
      </section>

      <!-- Почему именно мы -->
      <section class="cell">
        <div class="p" data-i18n="whyUs">
          Our project removes junk with no ads, doesn’t delete important files, and improves your PC stability.
        </div>
      </section>

      <!-- CTA + кнопка -->
      <section class="cell download">
        <div>
          <div class="p" data-i18n="interested">Interested? Download right now!</div>
          <a class="btn" id="dl" href="https://drive.google.com/file/d/1pfECCpV7UcV8POXCAjNEqVZ8F8uOLaWt/view?usp=sharing" target="_blank" rel="noopener" data-i18n="downloadBtn">
            Download
          </a>
        </div>
      </section>

      <!-- Доп. блоки «таблицы» для баланса сетки -->
      <section class="cell small">
        <strong data-i18n="feature1Title">No ads</strong>
        <div class="p" data-i18n="feature1Txt">A clean experience without pop-ups or bloat.</div>
      </section>

      <section class="cell small">
        <strong data-i18n="feature2Title">Safe cleaning</strong>
        <div class="p" data-i18n="feature2Txt">Smart rules avoid removing important system/user files.</div>
      </section>

      <section class="cell small">
        <strong data-i18n="feature3Title">Stability boost</strong>
        <div class="p" data-i18n="feature3Txt">Tidy system = fewer conflicts and smoother performance.</div>
      </section>

      <section class="cell small">
        <strong data-i18n="feature4Title">Lightweight</strong>
        <div class="p" data-i18n="feature4Txt">Low overhead with a fast, modern UI.</div>
      </section>

      <!-- Нижний крупный CTA -->
      <section class="cell cta">
        <div class="h1" data-i18n="ctaBig">Ready to keep your system clean?</div>
        <a class="btn" href="https://drive.google.com/file/d/1pfECCpV7UcV8POXCAjNEqVZ8F8uOLaWt/view?usp=sharing" target="_blank" rel="noopener" data-i18n="downloadBtn">
          Download
        </a>
        <div class="muted" data-i18n="ctaNote">Free to try. No ads.</div>
      </section>
    </div>
  </div>

  <!-- Контакт слева снизу -->
  <div class="badge"><span data-i18n="contact">Contact email:</span> <a href="mailto:Redmardua@gmail.com">Redmardua@gmail.com</a></div>

  <script>
    // ====== Упрощённые падающие микросхемы на Canvas ======
    (function(){
      const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      const canvas = document.getElementById('chips');
      const ctx = canvas.getContext('2d');

      const MAX_CHIPS = 60;
      const CHIPS = [];

      function resize(){
        const {innerWidth:w, innerHeight:h} = window;
        canvas.width = Math.floor(w * dpr);
        canvas.height = Math.floor(h * dpr);
        canvas.style.width = w + 'px';
        canvas.style.height = h + 'px';
        ctx.setTransform(dpr,0,0,dpr,0,0);
      }
      window.addEventListener('resize', resize, {passive:true});
      resize();

      function spawn(initial=false){
        const {innerWidth:w, innerHeight:h} = window;
        const count = initial ? MAX_CHIPS : 1;
        for(let i=0;i<count;i++){
          const size = 12 + Math.random()*22; // 12..34px (чуть проще/мельче)
          CHIPS.push({
            x: Math.random()*w,
            y: initial ? Math.random()*h : -size - 10,
            size,
            rot: Math.random()*Math.PI*2,
            vr: (Math.random()*0.4 - 0.2),
            vy: 0.5 + Math.random()*1.5,
            swayPhase: Math.random()*Math.PI*2,
            swayAmp: 4 + Math.random()*14,
            depth: Math.random(),
          });
        }
      }
      spawn(true);

      // Упрощённый чип: прямоугольник и редкие "ножки"
      function drawChip(x, y, size, rot, depth){
        const body = size * (0.85 + depth*0.4);
        const radius = Math.min(8, body*0.2);
        const pinLen = Math.max(3, body*0.22);
        const pinGap = Math.max(8, body*0.35); // реже — менее детально

        ctx.save();
        ctx.translate(x, y);
        ctx.rotate(rot);
        ctx.shadowColor = `rgba(0,0,0,${0.35 + 0.35*depth})`;
        ctx.shadowBlur = 6 + 14*depth;
        ctx.lineJoin = 'round';

        // Тело
        const grd = ctx.createLinearGradient(-body/2, -body/2, body/2, body/2);
        grd.addColorStop(0, '#141823');
        grd.addColorStop(1, '#0c0f16');
        ctx.fillStyle = grd;
        ctx.strokeStyle = '#1c2330';
        ctx.lineWidth = Math.max(1, body*0.06);
        roundRect(ctx, -body/2, -body/2, body, body*0.85, radius); // прямоугольник, не квадрат
        ctx.fill(); ctx.stroke();

        // Пара редких ножек на длинных сторонах
        ctx.strokeStyle = '#324154';
        ctx.lineWidth = Math.max(1, body*0.06);
        for(let side=0; side<2; side++){
          ctx.save();
          ctx.translate(0, (side?1:-1)*(body*0.85/2));
          for(let xOff = -body/2 + pinGap; xOff < body/2 - pinGap/2; xOff += pinGap){
            ctx.beginPath();
            ctx.moveTo(xOff, 0);
            ctx.lineTo(xOff, (side?pinLen:-pinLen));
            ctx.stroke();
          }
          ctx.restore();
        }
        ctx.restore();
      }
      function roundRect(ctx, x, y, w, h, r){
        const rr = Math.min(r, w/2, h/2);
        ctx.beginPath();
        ctx.moveTo(x+rr, y);
        ctx.arcTo(x+w, y,   x+w, y+h, rr);
        ctx.arcTo(x+w, y+h, x,   y+h, rr);
        ctx.arcTo(x,   y+h, x,   y,   rr);
        ctx.arcTo(x,   y,   x+w, y,   rr);
        ctx.closePath();
      }

      let last = performance.now();
      function tick(now){
        const dt = Math.min(33, now - last);
        last = now;

        const {innerWidth:w, innerHeight:h} = window;
        ctx.clearRect(0,0,canvas.width, canvas.height);

        // очень мягкая сетка
        ctx.save();
        ctx.globalAlpha = 0.04;
        ctx.strokeStyle = '#7bdfff';
        ctx.lineWidth = 1;
        const step = 90;
        for(let x=0;x<w;x+=step){ ctx.beginPath(); ctx.moveTo(x,0); ctx.lineTo(x,h); ctx.stroke(); }
        for(let y=0;y<h;y+=step){ ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(w,y); ctx.stroke(); }
        ctx.restore();

        for(let i=CHIPS.length-1;i>=0;i--){
          const c = CHIPS[i];
          c.swayPhase += 0.0022 * dt;
          c.x += Math.sin(c.swayPhase) * (c.swayAmp * 0.018 * dt);
          c.y += c.vy * (0.055 * dt) * (1 + c.depth*0.7);
          c.rot += c.vr * 0.013 * dt;

          drawChip(c.x, c.y, c.size, c.rot, c.depth);

          if(c.y - c.size > h + 40) CHIPS.splice(i,1);
        }
        while(CHIPS.length < MAX_CHIPS){ spawn(false); }

        requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    })();

    // ====== Переход с загрузки на главную через 5 секунд ======
    (function(){
      const loader = document.getElementById('loader');
      const app = document.getElementById('app');
      setTimeout(()=>{
        loader.classList.add('hidden');
        app.classList.add('show');
        app.setAttribute('aria-hidden','false');
      }, 5000);
    })();

    // ====== Локализация (EN default) ======
    (function(){
      const dict = {
        en: {
          loadingTitle: "Loading",
          loadingHint: "Please wait… preparing interface",
          langLabel: "Language",
          hero: "FluxScan — Your productivity helper",
          whyUsShort: "Why us?",
          whyUs: "Our project removes junk with no ads, doesn’t delete important files, and improves your PC stability.",
          interested: "Interested? Download right now!",
          downloadBtn: "Download",
          feature1Title: "No ads",
          feature1Txt: "A clean experience without pop-ups or bloat.",
          feature2Title: "Safe cleaning",
          feature2Txt: "Smart rules avoid removing important system/user files.",
          feature3Title: "Stability boost",
          feature3Txt: "Tidy system = fewer conflicts and smoother performance.",
          feature4Title: "Lightweight",
          feature4Txt: "Low overhead with a fast, modern UI.",
          ctaBig: "Ready to keep your system clean?",
          ctaNote: "Free to try. No ads.",
          contact: "Contact email:"
        },
        ru: {
          loadingTitle: "Загрузка",
          loadingHint: "Пожалуйста, подождите… идёт подготовка интерфейса",
          langLabel: "Язык",
          hero: "FluxScan — Ваш помощник в производительности",
          whyUsShort: "Почему именно мы?",
          whyUs: "Наш проект очищает мусор без рекламы, не удаляет нужные файлы и повышает стабильность вашего компьютера.",
          interested: "Заинтересовались? Скачайте прямо сейчас!",
          downloadBtn: "Скачать",
          feature1Title: "Без рекламы",
          feature1Txt: "Чистый опыт без всплывающих окон и мусора.",
          feature2Title: "Безопасная очистка",
          feature2Txt: "Умные правила не удаляют важные системные и пользовательские файлы.",
          feature3Title: "Больше стабильности",
          feature3Txt: "Оптимизированная система — меньше конфликтов и плавнее работа.",
          feature4Title: "Лёгкость",
          feature4Txt: "Минимальная нагрузка и современный быстрый интерфейс.",
          ctaBig: "Готовы поддерживать систему в порядке?",
          ctaNote: "Бесплатно. Без рекламы.",
          contact: "Почта для контакта:"
        },
        uk: {
          loadingTitle: "Завантаження",
          loadingHint: "Будь ласка, зачекайте… виконується підготовка інтерфейсу",
          langLabel: "Мова",
          hero: "FluxScan — Ваш помічник у продуктивності",
          whyUsShort: "Чому саме ми?",
          whyUs: "Наш проєкт очищує сміття без реклами, не видаляє потрібні файли та підвищує стабільність вашого комп’ютера.",
          interested: "Зацікавилися? Завантажуйте просто зараз!",
          downloadBtn: "Завантажити",
          feature1Title: "Без реклами",
          feature1Txt: "Чистий досвід без спливаючих вікон і зайвого.",
          feature2Title: "Безпечне очищення",
          feature2Txt: "Розумні правила не видаляють важливі системні та користувацькі файли.",
          feature3Title: "Стабільність",
          feature3Txt: "Охайна система = менше конфліктів і плавніша робота.",
          feature4Title: "Легковагомість",
          feature4Txt: "Мінімальне навантаження та швидкий сучасний інтерфейс.",
          ctaBig: "Готові тримати систему в чистоті?",
          ctaNote: "Безкоштовно. Без реклами.",
          contact: "Пошта для контакту:"
        }
      };

      const sel = document.getElementById('lang');
      const transEls = document.querySelectorAll('[data-i18n]');
      const LS_KEY = 'fluxLang';

      function apply(lang){
        const pack = dict[lang] || dict.en;
        transEls.forEach(el=>{
          const key = el.getAttribute('data-i18n');
          if(pack[key] !== undefined){
            el.textContent = pack[key];
          }
        });
        document.documentElement.lang = lang;
        localStorage.setItem(LS_KEY, lang);
        // Меняем title под язык
        document.title = lang==='ru' ? 'Flux — Загрузка' : (lang==='uk' ? 'Flux — Завантаження' : 'Flux — Loading');
      }

      // init
      const saved = localStorage.getItem(LS_KEY);
      const start = saved || 'en'; // Английский по умолчанию
      sel.value = start;
      apply(start);

      sel.addEventListener('change', ()=>apply(sel.value));
    })();
  </script>
</body>
</html>
